# WHAMS-Neptune Configuration for Binary Morphology Classification (Starting vs Background)

project_name: "1218_starting_test"
project_save_dir: "checkpoints"
accelerator: "gpu"

data_options:
  # Using a single list of data paths.
  # The run script will handle splitting this into train/val.
  # Paths are relative to where the script is run (external/WHAMS-Neptune/)
  data_paths:
    - "/n/holylfs05/LABS/arguelles_delgado_lab/Everyone/miaochenjin/WHA-MS/datafiles//WHAMSv0/BDT/21217/*.parquet"
    - "/n/holylfs05/LABS/arguelles_delgado_lab/Everyone/miaochenjin/WHA-MS/datafiles//WHAMSv0/BDT/21218/*.parquet"
    - "/n/holylfs05/LABS/arguelles_delgado_lab/Everyone/miaochenjin/WHA-MS/datafiles//WHAMSv0/BDT/21219/*.parquet"
    - "/n/holylfs05/LABS/arguelles_delgado_lab/Everyone/miaochenjin/WHA-MS/datafiles//WHAMSv0/BDT/22803/*.parquet"
    # - "../../datafiles/WHAMSv0/BDT/data_2021/*.parquet"
  
  val_split: 0.1          # 10% for validation
  seed: 42                # For reproducible splitting
  rescale: true            # Rescale features
  # Morphology definition for binary classification
  morphology_mapping:
    BackGround: 0
    Background: 0
    0T0C: 0
    1T0C: 0
    0T1C: 1
    0TnC: 1
    1T1C: 1
    1TnC: 1
    2TnC: 1
  
  plotting_morphology:
    0: "Background"
    1: "Starting"

model_options:
  downstream_task: "morphology_classification"
  loss_fn: "cross_entropy"
  num_classes: 2          # Binary classification: 0 or 1
  in_channels: 9          # 9 summary stats
  num_patches: 196        
  token_dim: 512          
  num_layers: 12           
  num_heads: 8            
  hidden_dim: 2048        
  dropout: 0.1
  k_neighbors: 8

training_options:
  batch_size: 512
  num_workers: 16
  lr: 1e-4
  weight_decay: 0.01
  epochs: 20