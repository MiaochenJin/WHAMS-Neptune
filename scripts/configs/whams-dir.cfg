# WHAMS-Neptune Configuration for Angular Reconstruction

project_name: "1216_dir_test_train"
project_save_dir: "checkpoints/1216_dir_test_train"
accelerator: "gpu"

data_options:
  # Using a single list of data paths.
  # The run script will handle splitting this into train/val.
  # Paths are relative to where the script is run (external/WHAMS-Neptune/)
  data_paths:
    - "../../datafiles/WHAMSv0/BDT/21217/*.parquet"
    # - "../../datafiles/WHAMSv0/BDT/21218/*.parquet"
    # - "../../datafiles/WHAMSv0/BDT/21219/*.parquet"
    # - "../../datafiles/WHAMSv0/BDT/22803/*.parquet"
    # - "../../datafiles/WHAMSv0/BDT/data_2021/*.parquet"
  
  val_split: 0.1          # 10% for validation
  seed: 42                # For reproducible splitting

model_options:
  downstream_task: "angular_reco"
  loss_fn: "vmf"          # Added missing loss function
  in_channels: 9          # 9 summary stats
  num_patches: 196        # Max tokens
  token_dim: 512          # Reduced from 768 for faster testing
  num_layers: 8           # Reduced from 12 for faster testing
  num_heads: 8            # Matches token_dim (512/8 = 64 head_dim)
  hidden_dim: 2048        # 4 * token_dim
  dropout: 0.1
  k_neighbors: 8

training_options:
  batch_size: 64
  num_workers: 4
  lr: 1e-4
  weight_decay: 0.01
  epochs: 20